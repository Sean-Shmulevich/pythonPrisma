datasource db{

    provider = "sqlite"
    url = "file:dev.db"
}

generator db {
    provider = "prisma-client-py"
    interface = "asyncio"
    recursive_type_depth = 5
}

model User {
  id        String    @id @default(uuid())
  email     String    @unique
  password  String
  name      String
  posts     Post[]
  profile   Profile[]
}

model Profile {
  id       String    @id @default(uuid())
  user     User      @relation(fields: [userId], references: [id])
  userId   String    @unique
}

model Post {
  id          String    @id @default(uuid())
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @default(now())
  imageUrl    String
  conversation String
  author      User      @relation(fields: [authorId], references: [id])
  authorId    String    @unique
  thread      Thread    @relation(fields: [threadId], references: [id])
  threadId    String    @unique
}

model Thread {
  id      String    @id @default(uuid())
  posts   Post[]
}
